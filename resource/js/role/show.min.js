var base_url=localStorage.getItem("url"),userid=localStorage.getItem("userid"),token=localStorage.getItem("token"),roleList=new Map;function getRole(){$.ajax({url:base_url+"role",type:"GET",dataType:"json",headers:{Authorization:token},success:function(e){if(200==e.status&&0!=e.data.lenght){for(var t=0;t<e.data.length;t++)roleList.set(e.data[t].id,e.data[t]);showList(roleList)}}})}function showList(e){$("#roleTable").dataTable().fnDestroy(),$("#roleList").empty();var t,a="";for(let l of e.keys()){let o=e.get(l);switch(o.is_active){case"1":t='<span class="badge badge-pill badge-primary">Active</span>';break;case"0":t='<span class="badge badge-pill badge-danger">Inactive</span>'}a+="\n                    <tr>\n                            <td>"+o.id+"</td>\n                            <td>"+o.role+"</td>\n                            <td>"+t+'</td>\n                            <td> <a href="#" onclick="getRoles('+o.id+')" title="Update Role" ><i class="mdi mdi-tooltip-edit" style="font-size: 20px;"></i></a> </td>\n                    </tr>\n                    '}$("#roleList").html(a),$("#roleTable").DataTable()}function getRoles(e){$.ajax({url:base_url+"role/"+e,type:"GET",headers:{Authorization:token},dataType:"json",success:function(t){200==t.status&&($("#id").val(e),$("#role").val(t.data.role),1==t.data.is_active?$("#active").attr("checked","checked"):$("#inactive").attr("checked","checked"),$("#myModal1").modal("toggle"))}})}getRole(),$("#addRole").click(function(){$("#myModal1").modal("toggle"),$("#addRoleForm").trigger("reset"),$("#id").val("")});